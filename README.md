# Обояшка

Простой Django-проект с каталогом и страницей контактов.

## Описание

- Страница каталога товаров (главная).
- Страница контактов с формой обратной связи.
- При отправке формы сообщение отображается на странице и выводится в терминал сервера.

## Установка и запуск

1. Клонируйте репозиторий:

    ```bash
    git clone <url-репозитория>
    cd <папка-проекта>
    ```

2. Создайте и активируйте виртуальное окружение:

    ```bash
    python -m venv .venv
    source .venv/bin/activate  # Linux/macOS
    .venv\Scripts\activate     # Windows
    ```

3. Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```

4. Запустите сервер разработки:

    ```bash
    python manage.py runserver
    ```

5. Откройте в браузере [http://127.0.0.1:8000/catalog/contacts/], заполните форму и отправьте.

6. После отправки сообщения вы увидите уведомление на странице и сообщение в терминале.

## Структура проекта

- `catalog/` — приложение с каталогом и страницей контактов.
- `templates/catalog/contact.html` — шаблон страницы контактов.
- `static/css/bootstrap.min.css` и `static/js/bootstrap.bundle.min.js` — стили и скрипты Bootstrap.

## Настройка

- Убедитесь, что в `settings.py` добавлено `'catalog'` в `INSTALLED_APPS`.
- Настройте `STATIC_URL` и `STATICFILES_DIRS` для корректной работы статики.

## Настройка подключения к базе данных через `.env`

Для удобства и безопасности параметры подключения к базе данных хранятся в файле `.env`. В репозитории есть пример файла `.env.example` с шаблоном переменных окружения.

### Шаги:

1. Создайте копию файла `.env.example` и назовите её `.env`:

```bash
cp .env.example .env
```
2. Отредактируйте .env, указав свои данные подключения к PostgreSQL:

```
DB_NAME=your_db_name
DB_USER=your_db_user
DB_PASSWORD=your_password
DB_HOST=localhost
DB_PORT=5432
```
3. В settings.py используйте библиотеку python-dotenv или django-environ для загрузки переменных окружения.
Пример с python-dotenv:
```
import os
from dotenv import load_dotenv

load_dotenv()

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': os.getenv('DB_NAME'),
        'USER': os.getenv('DB_USER'),
        'PASSWORD': os.getenv('DB_PASSWORD'),
        'HOST': os.getenv('DB_HOST', 'localhost'),
        'PORT': os.getenv('DB_PORT', '5432'),
    }
}
```
4. Убедитесь, что файл .env добавлен в .gitignore, чтобы не заливать его в публичный репозиторий.

## Что нового / Изменения

В последнем обновлении реализованы следующие улучшения и новые функции:

1. **Страница подробной информации о товаре**  
   Создан новый контроллер и шаблон для отображения детальной информации о каждом товаре. Теперь можно перейти на страницу товара и увидеть всю доступную информацию о нём.

2. **Отображение списка товаров на главной странице**  
   Главная страница обновлена: список товаров выводится с помощью цикла в шаблоне. Для единообразия карточек описание каждого товара обрезается до первых 100 символов.

3. **Базовый шаблон и подшаблон главного меню**  
   Для уменьшения дублирования кода выделен базовый шаблон с общими элементами страницы — шапкой, подвалом и подключением стилей. Также создан отдельный подшаблон для главного меню, который включается в другие шаблоны. Это облегчает поддержку и расширение интерфейса.

4. **Добавление новых товаров через форму**  
   Реализована страница с формой для добавления новых товаров. Пользователи могут вводить данные о товаре, которые сохраняются в базу данных после проверки.

5. **Пагинация списка товаров**  
   На главной странице реализован постраничный вывод товаров с отображением 9 товаров на странице. Добавлены элементы навигации для удобного перехода между страницами каталога.

# Приложение Блог

Простое приложение блога на Django, позволяющее просматривать, редактировать и управлять статьями.

## Возможности

- **Список статей с пагинацией**  
  Отображение только опубликованных статей (`is_published=True`) с постраничной навигацией (по 5 статей на страницу).

- **Просмотр статьи с подсчетом просмотров**  
  При открытии отдельной статьи автоматически увеличивается счетчик просмотров.

- **Редактирование статьи**  
  Возможность редактирования статьи с последующим перенаправлением на страницу просмотра обновленной статьи.

## Технические детали

- **Views:**  
  - `ArticleListView` (ListView): фильтрует опубликованные статьи и реализует пагинацию.  
  - `ArticleDetailView` (DetailView): увеличивает счетчик просмотров при каждом открытии статьи.  
  - `ArticleUpdateView` (UpdateView): редактирует статью и перенаправляет на ее детальный просмотр после сохранения.

- **Модель Article:**  
  Включает поля `title`, `content`, `is_published`, `created_at`, `views_count` (счетчик просмотров).

## Использование

- Список статей доступен по адресу `/articles/` (или другой, настроенный в вашем проекте).  
- Навигация по страницам осуществляется через пагинацию.  
- При переходе на страницу статьи увеличивается счетчик просмотров.  
- После редактирования статьи пользователь перенаправляется на страницу просмотра этой статьи.


## Контакты
bobrysheva_oxana@mail.ru

Если есть вопросы, пишите в issues или отправляйте pull request.

